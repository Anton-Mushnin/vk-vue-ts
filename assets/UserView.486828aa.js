import{d,o as t,c as a,t as u,a as I,_ as l,u as v,r as y,b as g,e as F,F as k,f as x,g as w,h as i,i as h,j as f}from"./index.b3b33f43.js";const S={key:0,class:"item"},$=d({__name:"WallItem",props:{item:null},setup(n){const e=n;return(c,r)=>e.item.text?(t(),a("div",S,u(e.item.text),1)):I("",!0)}});const T=l($,[["__scopeId","data-v-874e26d4"]]),b={class:"posts-container"},V=d({__name:"TheWall",props:{user_id:null},setup(n){const e=n,c=v(),r=y();g(()=>{p()});async function p(){try{const o=await F("https://api.vk.com/method/wall.get",{owner_id:e.user_id,v:"5.131",access_token:c.userToken});o.response&&(r.value=o.response.items)}catch(s){console.log(s)}}return(s,o)=>(t(),a("div",b,[(t(!0),a(k,null,x(r.value,_=>(t(),w(T,{item:_,key:_.id},null,8,["item"]))),128))]))}});const N=l(V,[["__scopeId","data-v-d793c758"]]),W={class:"friend"},B=["src"],U={class:"info w100"},A=d({__name:"FriendShortItem",props:{friend:null},setup(n){const e=n;return(c,r)=>(t(),a("div",W,[i("img",{src:e.friend.photo},null,8,B),i("div",U,[i("div",null,u(e.friend.displayName),1),i("div",null,u(e.friend.sexString),1),i("div",null,u(e.friend.ageString),1)])]))}});const C=l(A,[["__scopeId","data-v-bba5f023"]]),D={class:"friends-container"},E=d({__name:"TheFriendsFriends",props:{user_id:null},setup(n){const e=n,c=v(),r=y();g(()=>{p()});async function p(){try{const o=await F("https://api.vk.com/method/friends.get",{v:"5.131",access_token:c.userToken,user_id:e.user_id,fields:h.VK_FIELDS});if(o.error)throw o.error;r.value=new Array;const _=o.response.items;for(const m of _)m.deactivated||r.value.push(new h(m))}catch(s){console.log(s),(s.error_code===5||s.error_code===1116)&&c.newTokenNeeded()}}return(s,o)=>(t(),a("div",D,[(t(!0),a(k,null,x(r.value,_=>(t(),w(C,{friend:_,key:_.id},null,8,["friend"]))),128))]))}});const L=l(E,[["__scopeId","data-v-1a363cab"]]),j={class:"user-container"},K=d({__name:"UserView",setup(n){return(e,c)=>(t(),a("div",j,[f(N,{user_id:e.$route.params.id},null,8,["user_id"]),f(L,{user_id:e.$route.params.id},null,8,["user_id"])]))}});const q=l(K,[["__scopeId","data-v-cc362c95"]]);export{q as default};
